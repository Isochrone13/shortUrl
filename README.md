## 1. Архитектура и основные классы

Программа разделена на несколько ключевых **классов**, каждый из которых решает свою задачу:

1. **`User`**
    - Модель пользователя. Хранит `uuid`, `login`, `password`.
    - Используется в `UserService` и контроллере авторизации (`AuthController`).
2. **`UserService`**
    - Отвечает за операции с пользователями: регистрация, поиск по логину и UUID, загрузка/сохранение списка пользователей из файла.
    - Хранит данные в `users.txt`.
3. **`AuthController`**
    - Управляет логикой **регистрации** и **авторизации** пользователей (получение логина/пароля, проверка существования в `UserService`, сохранение текущего авторизованного пользователя).
    - Хранит ссылку на текущего авторизованного пользователя.
4. **`Link`**
    - Модель сокращённой ссылки, содержит поля: `shortCode`, `ownerUuid`, `originalUrl`, `createTimeMs`, `tlMinutes`, `maxClicks`, `currentClicks`.
    - Имеет методы `isExpired()` (проверка истечения срока жизни) и `isMaxClicksReached()` (проверка достижения лимита переходов).
5. **`LinkService`**
    - Отвечает за создание, хранение, загрузку, обновление и удаление коротких ссылок (каждая ссылка хранится в отдельном файле `.txt` в папке `links/`).
    - Реализует методы `createLink(...)`, `loadLink(...)`, `saveLinkToFile(...)`, `deleteLink(...)`, `getUserLinks(...)` и `cleanupExpiredLinks()` (для удаления ссылок у которых истекло время жизни).
6. **`LinkController`**
    - Управляет логикой **создания** ссылок, **просмотра** списка ссылок пользователя, **перехода** по ссылке, **редактирования лимита переходов** и **удаления** ссылки.
    - Использует `LinkService` и настройки из `ConfigService`.
    - Проверяет, что действия над ссылкой осуществляет именно владелец.
7. **`ConfigService`**
    - Считывает конфигурации (например, `BASE_URL`, `DEFAULT_TL_MINUTES`, `DEFAULT_MAX_CLICKS`) из `config.txt`.
    - Предоставляет методы `getBaseUrl()`, `getDefaultTlMinutes()`, `getDefaultMaxClicks()`.
    - Если файла нет, задаёт значения по умолчанию и/или возвращает их, используя `getOrDefault(..., defaultValue)`.
8. **`Main`**
    - Инициализирует все вышеописанные сервисы и контроллеры.
    - Организует консольное меню для пользователя.

---

## 2. Инструкция для пользователя

После запуска программы в консоли будет отображаться меню:

1. Создать пользователя.
Программа сгенерирует UUID и пароль и затем автоматически авторизует.
2. Авторизоваться (вход существующего пользователя).
Введите либо свой `UUID` или логин и пароль. Если всё верно, получите сообщение «Добро пожаловать!». Теперь в системе есть авторизованный пользователь.
3. Создать короткую ссылку.
Позволяет создать кортокую ссылку, которая булет хранится в виде файла с необходимой информацией в папке links. Потребуется ввести время жизни сслыки и количество доступных переходов. Дополнительные особенности:
    1. Если пользователь авторизован, то сразу произойдёт переход к созданию короткой ссылки, а если пользователь не авторизован, то будет предложено пройти регистрацию.
    2. Если заданное пользователем время больше, чем указанное в конфигурационном файле `config.txt`, то будет выбрано время из конфигурационного файла (то есть ограничение).
    3. Если заданное пользователем количество допустимых переходов меньше, чем указанное в конфигурационном файле `config.txt`, то будет выбрано время из конфигурационного файла (то есть минимальное количество доступных переходов).
    4. Также в конфигурационном файле можно задать base url, который будет добавляться к коду короткой ссылки (для красоты).
4. Список моих ссылок.
Программа отобразит все ссылки, у которых `ownerUuid` совпадает с UUID авторизованного пользователя.
    1. Доступно только для авторизованных пользователей. 
    2. Выводится список состоящий из ссылок и информации по ним: короткой ссылки, оригинальной ссылки, времени жизни, количества переходов, лимита доступных переходов, информация о доступности ссылки.
5. Перейти по ссылке.
Позволяет открыть ссылку в браузере введя короткую ссылку или её код. Программа проверит:
    - Не истёк ли срок жизни (`TL`).
    - Не достигнут ли лимит переходов (`maxClicks`).
    
    Если всё хорошо, счётчик переходов увеличивается, и программа попытается открыть ваш браузер по исходному URL (через `Desktop.getDesktop().browse(...)`). Если ссылка недоступна (просрочена/лимит исчерпан), получаете уведомление.
    
6. Редактировать лимит переходов.
Программа проверит, **владеете** ли вы этой ссылкой (сравнит `ownerUuid` и `currentUser.getUuid()`). После ввода нового лимита переходов (программа возьмёт `max(newLimit, DEFAULT_MAX_CLICKS)`) обновлённая ссылка будет сохранена, и программа выведет новый лимит.
7. Удалить ссылку.
Позволяет удалить ссылку введя введя короткую ссылку или её код. Программа проверит, **владеете** ли вы этой ссылкой и если да, она удалит соответствующий файл `<shortCode>.txt` из папки `links/`.
8. Выйти из аккаунта.
Позволяет сбросить активного пользователя.
9. Выход.
Завершает выполнение приложения.
